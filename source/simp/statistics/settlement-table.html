---
title: 结算表
layout: default
class: settlement-table
---
<div class="main-content">
  <div class="adaptive-query-list">
    <dl class="aql-dl">
      <dt class="aql-dt">结算周期</dt>
      <dd class="aql-dd">
        <label class="aql-label">
          <input class="aql-input begin-time" type="text" placeholder="开始时间">
          <i></i>
        </label>
        <span class="pre">至</span>
        <label class="aql-label">
          <input class="aql-input end-time" type="text" placeholder="截止时间">
          <i></i>
        </label>
      </dd>
    </dl>
    <dl class="aql-dl">
      <dt class="aql-dt">营业部</dt>
      <dd class="aql-dd">
        <label class="aql-label">
          <input type="text" class="aql-input">
        </label>
      </dd>
    </dl>
    <dl class="aql-dl">
      <dt class="aql-dt">合作方</dt>
      <dd class="aql-dd">

          <label class="aql-label">
            <input type="text" class="aql-input fuzzy-search">
          </label>
          <ul class="fuzzy-list">

          </ul>

      </dd>
      <script type="text/javascript">
        $(function () {
          //模糊查询数据
          var _json = {str:["你在干什么","我在发呆","为什么发呆呢","你问我我问谁","去，问你是看的起你","BB不完了，屌什么啊","呵呵"]}
          //模糊查询输入框，输入事件和聚焦事件绑定
          $(".page-settlement-table").on("input focus","input.fuzzy-search",function () {
            var _this =$(this);
            var isMate = true;
            var li_html = "";
            var _thisval = _this.val();
            //遍历全部数据
            for(var j=0;j<_json.str.length;j++){
              isMate =true;
              //遍历输入框内字符串与数据做匹配
              for(var i =0;i<_thisval.length;i++){
                //console.log(_thisval.charAt(i)+"i");
                //console.log( _json.str[j].charAt(i)+"j");
                var i_val = _thisval.charAt(i);
                var j_val = _json.str[j].charAt(i);

                if(i_val.toLowerCase() != j_val.toLowerCase()){
                  isMate = false;
                }
              }
              //如果匹配拼装html代码
              if(isMate){
                //console.log(_json.str[j])
                li_html += "<li>"+_json.str[j]+"</li>";
              }
            }
            _this.parent().siblings(".fuzzy-list").html(li_html);
            _this.parent().siblings(".fuzzy-list").show();
          });

          //模糊查询查询结果列表点击选择事件绑定
          $(".page-settlement-table").on("click",".fuzzy-list li",function () {
            var _this = $(this);
            var _thisval = _this.html();
            _this.parent().siblings("label").find("input.fuzzy-search").val(_thisval);
            _this.parent(".fuzzy-list").hide();
          });
          //绑定mouseover事件，让鼠标停留在查询出来的列表上时，blur事件失效
          $(".page-settlement-table").on("mouseover",".fuzzy-list li",function () {

            $(".page-settlement-table").off("blur","input.fuzzy-search");
          });
          //绑定mouseout事件，让鼠标停留在查询出来的列表上时，blur事件起效
          $(".page-settlement-table").on("mouseout",".fuzzy-list li",function () {
            $(".page-settlement-table").on("blur","input.fuzzy-search",function () {
              var _this =$(this);
              _this.parent().siblings(".fuzzy-list").hide();
            });
          });
        })
      </script>
    </dl>
    <dl class="aql-dl">
      <dt class="aql-dt">开户费结算状态</dt>
      <dd class="aql-dd">
        <span>
          <select name="" id="state" class="diy-select" style="display: none;">
            <option selected="" value="1">已结算</option>
            <option value="2">未结算</option>
          </select>
        </span>
      </dd>
    </dl>

  </div>

  <div class="button-content">
    <button class="btn-fill btn-lg" href="#">查询</button>
    <button class="btn btn-primary-white btn-small output" href="#">输出报表</button>
  </div>
</div>
<div class="main-table" style="overflow: hidden">
  <div class="scroll-table">
    <table cellpadding="0" cellspacing="0" class="data-table">
      <thead>
      <tr>
        <th>编号</th>
        <th>营业部</th>
        <th>累计总开户成功数</th>
        <th>客户总资产(元)</th>
        <th>成交金额(元)</th>
        <th>毛佣金(元)</th>
        <th>净佣金(元)</th>
        <th>普通期达标未计提数</th>
        <th>促销期达标未计提数</th>
        <th>普通期开户数</th>
        <th>促销期开户数</th>
        <th>本期服务费</th>
        <th>是否结算</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td><span class="nochecked">张三</span></td>
        <td>18677777777</td>
        <td>开户审核</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>

      </tr>
      <tr>
        <td><label class="table-check"><input type="checkbox" /><span class="checkbox"></span>张三</label></td>
        <td>18677777777</td>
        <td>开户审核</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>

      </tr>
      <tr class="even">
        <td><label class="table-check"><input type="checkbox" /><span class="checkbox"></span>张三</label></td>
        <td>18677777777</td>
        <td>开户审核</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>

      </tr>
      <tr>
        <td><label class="table-check"><input type="checkbox" /><span class="checkbox"></span>张三</label></td>
        <td>18677777777</td>
        <td>开户审核</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>
        <td>杭州庆春路营业部</td>

      </tr>
      </tbody>
    </table>
  </div>
  <div class="fixed-table">
    <table width="100%" cellpadding="0" cellspacing="0" class="data-table">
      <thead>
      <tr>
        <th style="text-align: center">操作</th>
      </tr>
      </thead>
      <tbody>
 <!--     <tr>
        <td class="text-c">
          <div class="btn-group">
            <a href="#" class="btn btn-fill btn-small">审核</a>
            <i class="dropdown"></i>
            <ul class="sub-group">
              <li><a href="#">作废</a></li>
              <li><a href="#">作废1</a></li>
            </ul>
          </div>
        </td>
      </tr>-->
      <tr>
        <td class="text-c"><span class="do-none">--</span></td>
      </tr>
      <tr>
        <td class="text-c"><a href="#" class="btn btn-fill btn-small">结算</a></td>
      </tr>
      <tr class="even">
        <td class="text-c"><a href="#" class="btn btn-fill btn-small">结算</a></td>
      </tr>
      <tr>
       <td class="text-c"><a href="#" class="btn btn-fill btn-small">结算</a></td>
      </tr>
      </tbody>
    </table>
  </div>
  <div class="table-foot">

    <label class="table-check check-all"><input type="checkbox" /><span class="checkbox"></span>全选</label>

    <a href="#" class="btn btn-fill btn-small">结算</a>

  </div>
</div>
<div class="ui-pagenav">
  <div class="page">
    <ul>
      <li class="page-up"><a href="">上一页</a></li>
      <li><a href="">1</a></li>
      <li class="thisPage"><a href="">2</a></li>
      <li><a href="">3</a></li>
      <li><a href="">4</a></li>
      <li><a href="">5</a></li>
      <li><a href="">6</a></li>
      <li>...</li>
      <li><a href="">12</a></li>
      <li class="page-down"><a href="">下一页</a></li>
      <li>跳转到</li>
      <li><input class="page-go" type="text"></li>
      <li><a href="">GO</a></li>
    </ul>
  </div>
  <div class="sum-num">
    <span>共1666条记录</span>
  </div>
</div>
<script type="text/javascript">
  $(function(){
    $('.diy-select').diySelect();
    $('.begin-time').datepicker({
      onClose: function (selectedDate) {
        $('.end-time').datepicker('option', 'minDate', selectedDate);
      }
    });
    $('.end-time').datepicker({
      onClose: function (selectedDate) {
        $('.begin-time').datepicker('option', 'maxDate', selectedDate);
      }
    });
  $(".table-check").on("click",function(e){
    e.preventDefault();
    //<label class="table-check check-all"><input type="checkbox" /><span class="checkbox">√</span>张三</label>
    var _this = $(this);
    var _checkbox = _this.find("input[type='checkbox']");
    var check_style =_this.find("span.checkbox");
    if(_this.hasClass("check-all")){

        if(_checkbox.is(':checked')){
          $(".table-check").find("input[type='checkbox']").attr("checked",false);

          $(".table-check").find("span.checkbox").css("border-color","#B5B5B5").html("");

        }else{
          $(".table-check").find("input[type='checkbox']").attr("checked",true);
          $(".table-check").find("span.checkbox").css("border-color","#3ecacb").html("√");

        }

    }else{
      if(_checkbox.is(':checked')){
        _checkbox.attr("checked",false);
        _this.parents(".main-table").find(".check-all input[type='checkbox']").attr("checked",false);
        _this.parents(".main-table").find(".check-all span.checkbox").css("border-color","#B5B5B5").html("");
        check_style.css("border-color","#B5B5B5").html("");

      }else{
        _checkbox.attr("checked",true);
        check_style.css("border-color","#3ecacb").html("√");

      }
    }




  });


  });

</script>
