---
title: 耗时统计
layout: default
class: statistics
---
<div class="main-content no-margin-bottom">
  {% include component/search.html %}
  <div id="all_search_list">
    {% include component/three-option.html %}
    <div class="button-content">
      <button class="btn-fill btn-lg" href="#">查询</button>
      <button class="btn-primary output" href="#">输出报表</button>
    </div>
  </div>
</div>
<div class="border-content">
  <div class="time-main">
    <div class="time-content">
      <dl class="average">
        <dd class="ico"></dd>
        <dt>
          <p class="time"><em>15</em> 分钟</p>
          <p>平均用时</p>
        </dt>
      </dl>
      <dl class="fastest">
        <dd class="ico"></dd>
        <dt>
          <p class="time"><em>111111</em> 分钟</p>
          <p>最快用时</p>
        </dt>
      </dl>
      <dl class="longest">
        <dd class="ico"></dd>
        <dt>
          <p class="time"><em>25</em> 分钟</p>
          <p>最长用时</p>
        </dt>
      </dl>
    </div>
    <div id="time_bar"></div>
  </div>
  <div id="time_operation" style="height:400px"></div>
  <div class="average-content">
    <div id="average_time" style="height:600px"></div>
    <table width="40%" cellpadding="0" cellspacing="0" class="simple-table">
      <thead>
        <tr>
          <td width="20%">操作节点</td>
          <td width="20%">平均用时</td>
          <td width="20%">占比</td>
          <td width="20%">最长时间</td>
          <td width="20%">最短用时</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="title">问卷回访</td>
          <td class="title">2分钟</td>
          <td class="title">5%</td>
          <td class="title">2分钟</td>
          <td class="title">2分钟</td>
        </tr>
        <tr>
          <td class="title">风险测评</td>
          <td class="title">2分钟</td>
          <td class="title">5%</td>
          <td class="title">2分钟</td>
          <td class="title">2分钟</td>
        </tr>
        <tr>
          <td class="title">三方存管</td>
          <td class="title">2分钟</td>
          <td class="title">5%</td>
          <td class="title">2分钟</td>
          <td class="title">2分钟</td>
        </tr>
        <tr>
          <td class="title">密码设置</td>
          <td class="title">2分钟</td>
          <td class="title">5%</td>
          <td class="title">2分钟</td>
          <td class="title">2分钟</td>
        </tr>
        <tr>
          <td class="title">账户选择</td>
          <td class="title">2分钟</td>
          <td class="title">5%</td>
          <td class="title">2分钟</td>
          <td class="title">2分钟</td>
        </tr>
        <tr>
          <td class="title">证书安装</td>
          <td class="title">2分钟</td>
          <td class="title">5%</td>
          <td class="title">2分钟</td>
          <td class="title">2分钟</td>
        </tr>
        <tr>
          <td class="title">视频通话</td>
          <td class="title">2分钟</td>
          <td class="title">5%</td>
          <td class="title">2分钟</td>
          <td class="title">2分钟</td>
        </tr>
        <tr>
          <td class="title">视频等待</td>
          <td class="title">2分钟</td>
          <td class="title">5%</td>
          <td class="title">2分钟</td>
          <td class="title">2分钟</td>
        </tr>
        <tr>
          <td class="title">基本资料提交</td>
          <td class="title">2分钟</td>
          <td class="title">5%</td>
          <td class="title">2分钟</td>
          <td class="title">2分钟</td>
        </tr>
        <tr>
          <td class="title">证书上传</td>
          <td class="title">2分钟</td>
          <td class="title">5%</td>
          <td class="title">2分钟</td>
          <td class="title">2分钟</td>
        </tr>
      </tbody>
    </table>
  </div>

</div>
<script src="../../javascript/highcharts.js" type="text/javascript"></script>
<script type="text/javascript">
$(function () {

  //柱形图模拟 开户类型
  var colors = Highcharts.getOptions().colors,
  categories = ['平均用时', '最快用时', '最长用时']
  data = [{
    y: 15,
    color: '#e4788c',

  }, {
    y: 15,
    color: '#b897f3',

  }, {
    y: 25,
    color: '#44c1de',

  }];

  function setChart(name, categories, data, color) {
    chart.xAxis[0].setCategories(categories, false);
    chart.series[0].remove(false);
    chart.addSeries({
      name: name,
      data: data,
      color: color || 'white'
    }, false);
    chart.redraw();
  }

  var chart = $('#time_bar').highcharts({
    chart: {
      type: 'bar'
    },
    title: {
      text: null
    },
    legend: {
      enabled: false
    },
    xAxis: {
      labels: {
        enabled: false
     },
     lineWidth: 0,
     tickWidth: 0
   },
   yAxis: {
    title: {
      text: null
    },
    labels: {
     enabled: false
   },
   lineWidth: 0,
   gridLineWidth: 0
 },
 plotOptions: {
  bar: {
    dataLabels: {
      enabled: false
    }
  }
},
tooltip: {
  enabled: false
},
series: [{
  name: name,
  data: data,
  stacking: 'normal',
  pointWidth: 25
}]
}).highcharts(); // return chart

//折线统计图模拟 平均等待时间
   $('#time_operation').highcharts({
     chart: {
      backgroundColor: '#f0f4fb',
      type: 'line'
    },
    title: {
            text: null
          },
          xAxis: {
           gridLineColor: '#dedede',
           gridLineWidth: 1,
           lineColor: '#3ecacb',
           lineWidth: 2,
           labels: {
            style: {
              fontSize: 12,
              color: '#c0c5ce'
            }
          },
          categories: ['7分钟以内', '7-9分钟', '10-12分钟', '13-15分钟', '16-18分钟', '19-21分钟','22-24分钟', '25-27分钟', '28-30分钟', '30分钟以上']
        },
        yAxis: {
          min: 0,
          title: {
            text: null
          },
          gridLineColor: '#dedede',
          gridLineWidth: 1,
          lineColor: '#3ecacb',
          lineWidth: 2,
          plotLines: [{
            value: 0,
            width: 1,
            color: '#808080'
          }]
        },
        tooltip: {
          headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
          pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
          '<td style="padding:0"><b>{point.y} %</b></td></tr>',
          footerFormat: '</table>',
          shared: true,
          useHTML: true
        },
        legend: {
          enabled: false
        },
        series: [{
          name: '百分比',
          data: [50, 10, 5, 10, 2, 6, 8, 9, 2, 3]
        }]
      });

//操作节点平均用时柱形图模拟
  var colors = Highcharts.getOptions().colors,
  categories = ['问卷回访', '风险测评', '三方存管', '密码设置', '账户选择', '证书安装', '视频通话', '视频等待', '基本资料提交', '证书上传']
  data = [{
    y: 5,
    color: '#e4788c'
  }, {
    y: 10,
    color: '#b897f3'
  }, {
    y: 5,
    color: '#44c1de'

  }, {
    y: 10,
    color: '#f3cd97'

  }, {
    y: 20,
    color: '#63a9ff'

  }, {
    y: 30,
    color: '#e4788c'

  }, {
    y: 10,
    color: '#b897f3'

  }, {
    y: 10,
    color: '#44c1de'

  }, {
    y: 10,
    color: '#f3cd97'

  }, {
    y: 10,
    color: '#63a9ff'

  }];

  function setChart(name, categories, data, color) {
   chart.xAxis[0].setCategories(categories, false);
   chart.series[0].remove(false);
   chart.addSeries({
    name: name,
    data: data,
    color: color || 'white'
  }, false);
   chart.redraw();
}

var chart = $('#average_time').highcharts({
  chart: {
    type: 'bar'
  },
  title: {
    text: '操作节点平均用时',
    style: {
      fontFamily: 'Microsoft YaHei',
      color: '#5a5d63',
      fontSize:'24px'
    }
  },
  legend: {
    enabled: false
  },
  xAxis: {
    categories: categories,
    labels: {
      style: {
       fontFamily: 'Microsoft YaHei',
       fontSize: 14,
       color: '#3a3d42'
     }
   },

},
yAxis: {
  title: {
    text: null
  },
  labels: {
   enabled: true
},
lineWidth: 1
},
plotOptions: {
  bar: {
    dataLabels: {
      enabled: true,
      style: {
        fontFamily: 'Microsoft YaHei',
        color: '#fff',
        fontWeight: 'normal',
        textShadow: 0
      },
      align: 'right',
      x: -5,
      formatter: function() {
        num = this.y +'%';
        return num;
      }
    }
  }
},
tooltip: {
  formatter: function() {
    var point = this.point,
    s = this.x +':<b>'+ this.y +'%</b><br/>';
    return s;
  }
},
series: [{
  name: name,
  data: data,
  color: 'white',
  pointWidth: 25
}]
}).highcharts(); // return chart
});
</script>
